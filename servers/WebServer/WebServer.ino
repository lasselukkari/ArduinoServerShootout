#include <WiFi.h>
#include <WiFiClient.h>
#include <WebServer.h>

#define WIFI_SSID ""
#define WIFI_PASSWORD ""

WebServer server(80);

void handleFourB() {
  server.send(200, "----");
}

void handleFourKb() {
  server.send(
    200,
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
    "----------------------------------------------------------------------------------------------------"
  );
}

void handleFourKbLoop() {
  server.setContentLength(CONTENT_LENGTH_UNKNOWN);
  server.send(200);
  for (int i = 0; i < 400; i++) {
    server.sendContent("----------");
  }
}


void setup(void) {
  Serial.begin(115200);

  WiFi.begin(WIFI_SSID, WIFI_PASSWORD);
  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println(WiFi.localIP());

  server.on("fourB", handleFourB);
  server.on("/fourKB", handleFourKb);
  server.on("/fourKBloop", handleFourKbLoop);
  server.begin();
}

void loop(void) {
  server.handleClient();
}
